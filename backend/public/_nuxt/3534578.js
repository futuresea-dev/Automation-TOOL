(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{198:function(e,t,r){var content=r(208);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(52).default)("413be38f",content,!0,{sourceMap:!1})},199:function(e,t,r){"use strict";r.r(t);var n=r(4),o=(r(41),{name:"Header",components:{IconVue:r(196).default},props:{hasSettings:{type:Boolean,default:!0},hasDashboard:{type:Boolean,default:!1}},data:function(){return{dark:!1}},mounted:function(){this.dark=localStorage.dark?1*localStorage.getItem("dark"):0,this.setDarkMode()},methods:{logout:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.logout();case 2:case"end":return t.stop()}}),t)})))()},setDarkMode:function(){this.dark?(document.body.setAttribute("data-theme","dark"),localStorage.setItem("dark","1")):(document.body.removeAttribute("data-theme"),localStorage.setItem("dark","0"))}}}),c=r(38),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-content-between align-items-center user-select-none"},[r("h5",{staticClass:"m-0 text-capitalize d-flex align-items-center"},[r("IconVue",{staticClass:"mr-2 text-black-50",attrs:{name:"user",hasBackground:!1,size:1.6,strokeWidth:2,isBtn:!1}}),r("span",{staticClass:"text-black-50 mr-1"},[e._v("hi,")]),r("span",[e._v("Jasper")])],1),r("div",{staticClass:"d-flex align-items-center"},[r("div",{staticClass:"form-check form-switch ml-5"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.dark,expression:"dark"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.dark)?e._i(e.dark,null)>-1:e.dark},on:{click:function(t){t.stopPropagation(),e.dark=!e.dark,e.setDarkMode()},change:function(t){var r=e.dark,n=t.target,o=!!n.checked;if(Array.isArray(r)){var c=e._i(r,null);n.checked?c<0&&(e.dark=r.concat([null])):c>-1&&(e.dark=r.slice(0,c).concat(r.slice(c+1)))}else e.dark=o}}}),r("label",{attrs:{for:"darkSwitch"}},[e._v(e._s(e.dark?"Light":"Dark"))])])])])}),[],!1,null,null,null);t.default=component.exports},200:function(e,t,r){"use strict";var n=r(3),o=r(89)(5),c="find",l=!0;c in[]&&Array(1).find((function(){l=!1})),n(n.P+n.F*l,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(88)(c)},201:function(e,t,r){"use strict";var n=r(3),o=r(89)(6),c="findIndex",l=!0;c in[]&&Array(1)[c]((function(){l=!1})),n(n.P+n.F*l,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(88)(c)},207:function(e,t,r){"use strict";r(198)},208:function(e,t,r){var n=r(51)(!1);n.push([e.i,".add-task-btn[data-v-5a8e1ca5]{background-color:#0d6efd;cursor:pointer;border-radius:50%;position:fixed;bottom:2.5rem;right:2.5rem;width:3.8rem;height:3.8rem;padding:.7rem;z-index:100000;transition:transform .1s}.add-task-btn>.icon-cont[data-v-5a8e1ca5]{width:100%!important;height:100%!important}.two-cols-grid[data-v-5a8e1ca5]{display:grid;grid-template-columns:repeat(2,calc(50% - .25rem));grid-gap:.5rem;gap:.5rem}.circle[data-v-5a8e1ca5]{padding:.3rem;border-radius:50%}.task .actions[data-v-5a8e1ca5]{opacity:0;pointer-events:none}.task:hover .actions[data-v-5a8e1ca5]{opacity:1;pointer-events:auto}.form-image>div[data-v-5a8e1ca5]{position:relative;height:3rem;border:2px dashed #f6f7f8;border-radius:.2rem}.form-image[data-v-5a8e1ca5]:not(:last-child){padding-right:.8rem}.form-image input[type=file][data-v-5a8e1ca5]{display:none}",""]),e.exports=n},209:function(e,t,r){"use strict";r.r(t);r(32);var n=r(4),o=(r(41),r(200),r(26),r(35),r(21),r(34),r(36),r(12),r(37),r(201),r(91),r(50)),c=r.n(o),l=r(199),d=r(196);function m(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}c.a.defaults.baseURL="/api",c.a.defaults.withCredentials=!0;var h={components:{HeaderVue:l.default,IconVue:d.default},data:function(){return{show:{addTaskForm:!1},formItems:[{name:"email",type:"email",placeholder:"e.g. Joh@company.com"},{name:"password",placeholder:"8 characters at least",minLength:8},{name:"license",placeholder:"e.g. 76-SR-RK"},{name:"color",type:"select",value:0,options:{1:"Beige",2:"Blauw",3:"Bruin",4:"Brons",5:"Geel",6:"Grijs",7:"Groen",10:"Rood",11:"Zwart",12:"Zilver",13:"Paars",14:"Wit",15:"Oranje",16:"Goud"},indexValue:!0},{name:"mileage",type:"number",placeholder:"e.g. 21500"},{name:"price",type:"number",placeholder:"e.g. 7500"},{name:"zip",placeholder:"e.g. 9734 BL"},{name:"city",placeholder:"e.g. Zonland"},{name:"phone",placeholder:"e.g. 06-83702194",type:"tel",pattern:"[0-9]+-[0-9]+"},{name:"description",type:"textarea"}],formImages:[],tasks:[],messages:[],statesColors:{pending:"bg-secondary",running:"bg-primary",crashed:"bg-danger",finished:"bg-success"},page:1}},mounted:function(){this.loadResults(),setInterval(this.loadResults.bind(this),1500)},methods:{randomStr:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",i=e;i>0;i-=1)r+=t[Math.floor(Math.random()*t.length)];return r},showHideForm:function(){this.show.addTaskForm=!this.show.addTaskForm;var e,t=m(this.formItems);try{for(t.s();!(e=t.n()).done;){e.value.value=""}}catch(e){t.e(e)}finally{t.f()}this.formImages=[],this.formItems.find((function(e){return"password"===e.name})).value=this.randomStr(4,"abcdefghijklmnopqrstuvwxyz")+this.randomStr(4,"ABCDEFGHIJKLMNOPQRSTUVWXYZ")+this.randomStr(3,"-@$#%!_=+")+this.randomStr(3,"0123456789")},promptChooseFile:function(){document.querySelector('input[type="file"]').click()},setImages:function(e){var t=e.target.files;t=Array.from(t).map((function(e){return{name:e.name,file:e}})),console.log("files:",t.map((function(e){return e.name}))),this.formImages=t},createTask:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data,r,n,o,l,d,image,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,data=new FormData,r=m(e.formItems);try{for(r.s();!(n=r.n()).done;)o=n.value,data.append(o.name,o.value?o.value:"")}catch(e){r.e(e)}finally{r.f()}l=m(e.formImages);try{for(l.s();!(d=l.n()).done;)(image=d.value).file?data.append("images",image.file,{headers:{"Content-Type":"multipart/form-data; boundary=".concat(data._boundary)}}):image.name&&data.append("images",image.name)}catch(e){l.e(e)}finally{l.f()}return t.next=8,c.a.post("/task",data);case 8:f=t.sent,h=f.data.data,e.tasks.unshift(h),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.handleAxiosErr(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},deleteTask:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.a.delete("/task/".concat(e));case 3:(n=t.tasks.find((function(t){return t._id===e})))+1&&t.tasks.splice(n,1),t.newMessage("task deleted successfully"),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t.handleAxiosErr(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},restartTask:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.a.get("/task/restart/".concat(e));case 3:return t.newMessage("added to queue successfully"),r.next=6,t.loadResults();case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t.handleAxiosErr(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},copyTask:function(e){var t=this.tasks.find((function(t){return t._id===e}));if(console.log("task :>> ",t),!t)return this.newMessage("can't find the task");var r,n=m(this.formItems);try{for(n.s();!(r=n.n()).done;){var o=r.value;o.value=t[o.name]}}catch(e){n.e(e)}finally{n.f()}this.formImages=t.images.map((function(e){return{name:e}})),this.show.addTaskForm=!0},loadResults:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get("/task?limit=99999");case 3:r=t.sent,n=r.data.data,e.tasks=n,n.length&&(e.page=e.page+1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.handleAxiosErr(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},handleAxiosErr:function(e){var t=e&&e.response&&e.response.data&&e.response.data.message?e.response.data.message:"Something went wrong!";"Something went wrong!"===t&&console.log(e),this.newMessage(t,"error",5e3)},randomID:function(){return String.fromCharCode(65+Math.floor(26*Math.random()))+"-"+Date.now()},newMessage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"it's all going just fine",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=this.randomID();this.messages.push({id:o,type:r,str:t,icon:"error"===r?"alert-circle":"success"===r?"check-circle":"bell",color:"error"===r?"danger":"info"===r?"primary":r});setTimeout((function(){e.messages.splice(e.messages.findIndex((function(e){return e.id===o})),1)}),n)},openInNewPage:function(e){if(!e.startsWith("http"))return this.newMessage('"'.concat(e,"\" isn't a url"),"error");window.open(e,"_blank")}}},v=h,k=(r(207),r(38)),component=Object(k.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{staticClass:"container my-4"},[r("div",{staticClass:"notifications position-fixed p-4",staticStyle:{left:"0",bottom:"0","z-index":"999999999999"}},e._l(e.messages,(function(t){var n=t.id,o=(t.type,t.str),c=t.icon,l=t.color;return r("div",{key:n,staticClass:"toast",staticStyle:{opacity:"1"}},[r("div",{staticClass:"toast-body text-capitalize d-flex align-items-center"},[r("IconVue",{staticClass:"mr-2",class:"text-"+l,attrs:{name:c,size:1.6}}),r("strong",{staticClass:"mr-auto"},[e._v(e._s(o))])],1)])})),0),r("HeaderVue",{staticClass:"mb-5"}),r("div",{staticClass:"add-task-btn",style:"transform: rotate("+45*Number(e.show.addTaskForm)+"deg);",on:{click:e.showHideForm}},[r("IconVue",{staticClass:"m-0",attrs:{name:"plus",color:"#fff","stroke-width":1.8,"has-background":!1}})],1),r("form",{directives:[{name:"show",rawName:"v-show",value:e.show.addTaskForm,expression:"show.addTaskForm"}],on:{submit:function(t){t.preventDefault(),e.show.addTaskForm=!1,e.createTask()}}},[r("div",{staticClass:"two-cols-grid"},e._l(e.formItems.filter((function(e){return"textarea"!==e.type})),(function(t){return r("div",[r("label",{attrs:{for:t.name}},[e._v(e._s(t.label||t.name))]),"select"===t.type?r("select",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"x.value"}],staticClass:"form-select",on:{change:function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(t,"value",r.target.multiple?n:n[0])}}},e._l(t.options,(function(t,n){return r("option",{key:n,domProps:{value:n}},[e._v(e._s(t))])})),0):"checkbox"===(t.type||"text")?r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"x.value"}],staticClass:"form-control",attrs:{placeholder:t.placeholder,minLength:t.minLength,pattern:t.pattern,required:"",type:"checkbox"},domProps:{checked:Array.isArray(t.value)?e._i(t.value,null)>-1:t.value},on:{change:function(r){var n=t.value,o=r.target,c=!!o.checked;if(Array.isArray(n)){var l=e._i(n,null);o.checked?l<0&&e.$set(t,"value",n.concat([null])):l>-1&&e.$set(t,"value",n.slice(0,l).concat(n.slice(l+1)))}else e.$set(t,"value",c)}}}):"radio"===(t.type||"text")?r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"x.value"}],staticClass:"form-control",attrs:{placeholder:t.placeholder,minLength:t.minLength,pattern:t.pattern,required:"",type:"radio"},domProps:{checked:e._q(t.value,null)},on:{change:function(r){return e.$set(t,"value",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"x.value"}],staticClass:"form-control",attrs:{placeholder:t.placeholder,minLength:t.minLength,pattern:t.pattern,required:"",type:t.type||"text"},domProps:{value:t.value},on:{input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}})])})),0),r("div",{staticClass:"my-1"},e._l(e.formItems.filter((function(e){return"textarea"===e.type})),(function(t){return r("div",[r("label",{attrs:{for:t.name}},[e._v(e._s(t.label||t.name))]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"x.value"}],staticClass:"form-control",attrs:{placeholder:t.placeholder,rows:"3",required:""},domProps:{value:t.value},on:{input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}})])})),0),r("div",{staticClass:"mt-4"},[r("div",{staticClass:"form-image my-1"},[r("div",{staticClass:"d-flex align-items-center px-1",on:{click:e.promptChooseFile}},[r("input",{staticClass:"image-input",attrs:{type:"file",accept:".png,.jpg",multiple:"true"},on:{input:e.setImages}}),r("div",{staticClass:"d-flex justify-content-start align-items-center overflow-hidden"},[r("IconVue",{attrs:{name:"image",color:"#e1e3e6",hasBackground:!1,size:1.8,strokeWidth:1.2}}),r("div",{staticClass:"ml-1 text-nowrap overflow-hidden",style:"text-overflow: ellipsis; color: "+(e.formImages.length?"currentColor":"#989ca2")+";"},[e._v(e._s(e.formImages.length?e.formImages.length+" images selected":"Choose Files..."))])],1)])])]),r("input",{staticClass:"btn btn-primary btn-block mt-4",attrs:{type:"submit"}})]),r("div",{staticClass:"row text-capitalize align-items-center my-4"},[e._m(0),e._l(["Price","Email:3","Password","Status:1"],(function(t){return r("div",{staticClass:"font-weight-bold",class:["col-md-"+(t.split(":")[1]||2)]},[e._v(e._s(t.split(":")[0]))])}))],2),e.tasks.length?e._e():r("div",{staticClass:"text-center mt-5 text-nowrap text-capitalize text-muted"},[e._v("no tasks yet, create one by clicking the + button")]),e._l(e.tasks,(function(t,n){var o=t._id,c=t.license,l=t.price,d=t.email,m=t.password,f=t.state,h=t.error,v=t.carLink;return r("div",{key:o,staticClass:"task row align-items-center my-4"},[r("div",{staticClass:"col-md-2"},[r("span",{staticClass:"mr-3 font-weight-light",staticStyle:{opacity:"0.5"}},[e._v(e._s(n+1))]),r("span",[e._v(e._s(c))])]),r("div",{staticClass:"col-md-2"},[e._v(e._s(l)+"$")]),r("div",{staticClass:"col-md-3"},[e._v(e._s(d))]),r("div",{staticClass:"col-md-2"},[e._v(e._s(m))]),r("div",{staticClass:"col-md-1 d-flex align-items-center",on:{click:function(t){"crashed"===f&&h?e.newMessage(h,"error",5e3):v&&e.openInNewPage(v)}}},[r("div",{staticClass:"circle mr-1",class:e.statesColors[f]}),r("div",{staticClass:"fw-bold me-1"},[e._v(e._s(f))])]),r("div",{staticClass:"col-md-2 actions d-flex align-items-center"},[r("IconVue",{staticClass:"ml-2",attrs:{name:"trash-2",size:1.9,color:"#fd3145",title:"Delete"},nativeOn:{click:function(t){return e.deleteTask(o)}}}),r("IconVue",{staticClass:"ml-2",attrs:{name:"copy",size:1.9,color:"#0d6efd",title:"Copy"},nativeOn:{click:function(t){return e.copyTask(o)}}}),"crashed"===f||"finished"===f?r("IconVue",{staticClass:"ml-2",attrs:{name:"rotate-cw",size:1.9,color:"#28a745",title:"Restart (add to queue)"},nativeOn:{click:function(t){return e.restartTask(o)}}}):e._e()],1)])}))],2)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-2 font-weight-bold"},[r("span",{staticClass:"mr-3 font-weight-light",staticStyle:{opacity:"0.5"}},[e._v("#")]),r("span",[e._v("License")])])}],!1,null,"5a8e1ca5",null);t.default=component.exports}}]);